<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="/css/styles.css" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<title>Detalle Trazabilidad</title>
</head>
<body>
		<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
            
            <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0" th:action="@{/logout}" method="post">
                <div class="input-group float-right">
                    <span class="text-white mx-2" sec:authentication="name"></span>
                    <button class="btn btn-success my-2 my-sm-0" type="submit">Salir</button>
                </div>
            </form>
        </nav>  <!-- Navbar-->
        
     <div class="container">

      <div class="starter-template">
        <h1>Trazabilidad Lote</h1>
       		<!-- <div class="row"> -->
       			<div class="col-md-offset-2 col-md-8">
       			
       				<form  th:object="${movimiento}">
       						<input type="hidden" id="idmovimientol" th:field="*{idmovimientol}"/>
       						<div class="input-group mb-3">
       						
							 <span class="input-group-text">Movimiento</span>
							<input type="text" class="form-control" th:field="${movimiento.tipomovimiento}">
							 <span class="input-group-text">Destinatario</span>
							 <input type="text" class="form-control" th:field="${movimiento.destinatario}">
							
							</div>
       						<div class="input-group mb-3">
       						
							 <span class="input-group-text">Receta</span>
							 <input type="text" class="form-control" th:field="${movimiento.loteobj.nombrereceta}">
							 <span class="input-group-text">Lote</span>
							 <input type="text" class="form-control" th:field="${movimiento.loteobj.lote}"> 
			
							</div>
       						
       						<div class="input-group mb-3">
							  <span class="input-group-text">Fecha</span>
							  <input type="text" class="form-control" th:field="${movimiento.fechamovimiento}">
							  <span class="input-group-text">Caducidad</span>
							  <input type="text" class="form-control" th:field="${movimiento.loteobj.fechcaducidad}">
							</div>
							<div class="input-group mb-3">							
							  <div class="col-xs-3"><span class="input-group-text">Cantidad</span></div>
							  <div class="col-xs-2"><input type="text" class="form-control" th:field="${movimiento.cantidad}"></div>
						
							</div>
							<div class="row">
							<span class="col-md-15 input-group-text">Componentes del lote</span>
							</div>
								<table class="table table-striped" id="datatablesSimple">
						<thead>
						<tr>
							<th>Nº</th>
							<th>Ingrediente</th>
							<th>Empresa</th>
							<th>Reg.Sanitario</th>
						</tr>						
						</thead>
						<tbody>
						<tr th:each="componente,stat : ${movimiento.productores}">
							<td th:text="${stat.count}">Nº</td>
							<td th:text="${movimiento.productores[__${stat.index}__].nombreprimario}">Ingrediente</td>
							<td th:text="${movimiento.productores[__${stat.index}__].empresa}">Empresa</td>
							<td th:text="${movimiento.productores[__${stat.index}__].reg_sanitario}">Reg.Sanitario</td>
						</tr>
						</tbody>
						</table>
							<!-- Button -->
							<br>
							<div class="btn-toolbar">
								<div class="col-md-4">
								    <a href="#" class="btn btn-secondary" th:href="@{/Trazabilidad/{lote}(lote=${movimiento.loteobj.lote})}">Aceptar</a>
								</div>
							</div>		
       				</form>
       			
       			</div>
       		
       		</div>
     <!--  </div> -->

    </div><!-- /.container -->
  
        
</body>
</html>